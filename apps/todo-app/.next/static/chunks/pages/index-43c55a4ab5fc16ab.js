(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{1565:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(5e3)}])},5e3:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return ex}});var o,a,l=n(1261),s=n(1987),r=n(6455),c=n(9621),i=n.n(c),d=n(4633),_=n.n(d);let u=e=>{let{className:t="",children:n,...o}=e,a="".concat(_().button," ").concat(t);return(0,l.jsx)("button",{className:a,type:"button",...o,children:n})};var h=n(1789),m=n(6531),x=n.n(m);let p=e=>e===h.Q.LIGHT?"Dark Theme":"Light Theme",C=e=>{let{theme:t,className:n="",...o}=e,a="".concat(x().themeButton," ").concat(n);return(0,l.jsxs)(u,{className:a,"aria-label":p(t),...o,children:[t===h.Q.LIGHT&&(0,l.jsx)(i(),{className:x().themeIcon,src:"/icons/icon-sun.svg",alt:"light mode",width:20,height:20}),t===h.Q.DARK&&(0,l.jsx)(i(),{className:x().themeIcon,src:"/icons/icon-moon.svg",alt:"dark mode",width:20,height:20})]})};var v=n(7058);let f=()=>{let e=(0,r.I0)(),t=(0,r.v9)(e=>e.theme);return(0,s.useEffect)(()=>{let t=h.Q.LIGHT,n=localStorage.getItem("theme"),o=matchMedia("(prefers-color-scheme: dark)").matches;n?t=h.Q.fromString(n):o&&(t=h.Q.DARK),t===h.Q.DARK&&e((0,v.Xx)(t))},[e]),(0,s.useEffect)(()=>{let e=document.documentElement;e&&(t===h.Q.LIGHT?(e.classList.add("light"),e.classList.remove("dark")):(e.classList.add("dark"),e.classList.remove("light")))},[t]),(0,l.jsx)(C,{theme:t,onClick:()=>e((0,v.X8)())})};var k=n(8094),g=n.n(k);let y=e=>{let{as:t="div",className:n="",children:o,...a}=e,s="".concat(g().container," ").concat(n).trim();return(0,l.jsx)(t,{className:s,...a,children:o})};var j=n(2140),b=n.n(j),I=n(5627),N=n.n(I);let L=e=>{let{className:t="",children:n,...o}=e,a="".concat(N().logo," ").concat(t);return(0,l.jsx)(b(),{href:"/",className:a,...o,children:(0,l.jsx)("h1",{children:"TODO"})})};var E=n(3439),T=n.n(E);let w=e=>{let{className:t="",...n}=e,o="".concat(T().header," ").concat(t);return(0,l.jsx)("header",{className:o,...n,children:(0,l.jsxs)(y,{className:T().container,children:[(0,l.jsx)(L,{}),(0,l.jsx)(f,{})]})})};var P=n(4152),A=n(4052),D=n.n(A);let O=e=>{let{className:t="",children:n,...o}=e,a="".concat(D().caption," ").concat(t);return(0,l.jsx)("div",{className:a,...o,children:n})};var S=n(8289),B=n.n(S);let M=e=>{let{isChecked:t,className:n="",children:o,...a}=e,s="".concat(B().checkBoxButton," ").concat(t?B().checked:""," ").concat(n);return(0,l.jsx)(u,{className:s,...a,children:o})};var R=n(2003),Q=n.n(R);let V=e=>{let{className:t,...n}=e,o="".concat(t," ").concat(Q().input);return(0,l.jsx)("input",{className:o,...n})};var q=n(1661),G=n.n(q);let H=e=>{let{leftSide:t,value:n,className:o="",...a}=e,s="".concat(G().todoInput," ").concat(t?G().leftSide:""," ").concat(o);return(0,l.jsxs)("div",{className:s,children:[t,(0,l.jsx)(V,{className:G().input,value:n,...a})]})};var X=n(4790),U=n.n(X);let W=e=>{let{tabs:t,activeTabIndex:n,onChangeTab:o,className:a="",...s}=e,r="".concat(U().tabs," ").concat(a),c=e=>e===n?U().active:"";return(0,l.jsx)("ul",{className:r,...s,children:t.map((e,t)=>(0,l.jsx)("li",{className:"".concat(U().item," ").concat(c(t)),onClick:()=>o(t),children:e},t))})};var J=n(7711),K=n.n(J),z=n(2613),F=n.n(z);let Y=e=>{let{className:t="",...n}=e,o="".concat(F().removeButton," ").concat(t);return(0,l.jsx)(u,{className:o,"aria-label":"Remove",...n,children:(0,l.jsx)(i(),{className:F().removeIcon,src:"/icons/icon-cross.svg",alt:"remove button",width:12,height:12})})};var Z=n(840),$=n.n(Z);let ee=e=>{let{todo:t,onCheck:n,onRemove:o,className:a="",...s}=e,{id:r,completed:c,text:i}=t,d="".concat($().todoItem," ").concat(c?$().completed:""," ").concat(a);return(0,l.jsxs)("div",{className:d,...s,children:[(0,l.jsx)(M,{isChecked:c,onClick:()=>n(r)}),(0,l.jsx)("div",{className:$().contents,children:i}),(0,l.jsx)(Y,{onClick:()=>o(r)})]})};var et=n(7606),en=n.n(et);let eo=K()(()=>Promise.all([n.e(919),n.e(597)]).then(n.bind(n,7259)).then(e=>e.DragDropContext),{loadableGenerated:{webpack:()=>[7259]},ssr:!1}),ea=K()(()=>Promise.all([n.e(919),n.e(597)]).then(n.bind(n,7259)).then(e=>e.Droppable),{loadableGenerated:{webpack:()=>[7259]},ssr:!1}),el=K()(()=>Promise.all([n.e(919),n.e(597)]).then(n.bind(n,7259)).then(e=>e.Draggable),{loadableGenerated:{webpack:()=>[7259]},ssr:!1}),es=e=>{let{todos:t,onCheck:n,onRemove:o,onClear:a,onCompleted:s,onReorder:r,className:c="",...i}=e,d="".concat(en().todoListContainer," ").concat(c),_=e=>{var t;r(e.source.index,null===(t=e.destination)||void 0===t?void 0:t.index)};return(0,l.jsxs)("div",{className:d,...i,children:[(0,l.jsx)(eo,{onDragEnd:_,children:(0,l.jsx)(ea,{droppableId:"todo-container",children:e=>(0,l.jsxs)("div",{className:en().todoItemContainer,ref:e.innerRef,...e.droppableProps,children:[t.map((e,t)=>(0,l.jsx)(el,{draggableId:"".concat(e.id),index:t,children:t=>(0,l.jsx)("li",{className:en().todoItem,ref:t.innerRef,...t.dragHandleProps,...t.draggableProps,children:(0,l.jsx)(ee,{todo:e,onCheck:n,onRemove:o})})},"".concat(e.id))),e.placeholder]})})}),(0,l.jsxs)("div",{className:en().footer,children:[(0,l.jsx)("span",{className:en().activeItemCount,children:(()=>{let e=t.filter(e=>{let{completed:t}=e;return!t}).length;return 0===e?"No left":1===e?"1 item left":"".concat(e," items left")})()}),(0,l.jsxs)("div",{className:en().buttonContainer,children:[(0,l.jsx)(u,{onClick:a,children:"Clear"}),(0,l.jsx)(u,{onClick:s,children:"Completed"})]})]})]})};var er=n(8493),ec=n.n(er);let ei=e=>{let{todos:t,onCheck:n,onRemove:o,onClear:a,onCompleted:s,onReorder:r,tabs:c,activeTabIndex:i,onChangeTab:d,className:_="",...u}=e,h="".concat(ec().todoTabList," ").concat(_);return(0,l.jsxs)("div",{className:h,...u,children:[(0,l.jsx)(es,{todos:t,onCheck:n,onRemove:o,onClear:a,onCompleted:s,onReorder:r}),(0,l.jsx)(W,{tabs:c,activeTabIndex:i,onChangeTab:d})]})};var ed=n(1806);(o=a||(a={}))[o.ALL=0]="ALL",o[o.ACTIVE=1]="ACTIVE",o[o.COMPLETED=2]="COMPLETED";var e_=n(6955),eu=n.n(e_);let eh=e=>{let{...t}=e,n=(0,r.I0)(),o=(0,r.v9)(e=>e.todo),[c,i]=(0,s.useState)(""),[d,_]=(0,s.useState)(!1),[u,h]=(0,s.useState)(0),m=(0,P.useRouter)(),{tab:x}=m.query,p=e=>{i(e.target.value)},C=(0,s.useCallback)(e=>{let t=o.find(t=>{let{id:n}=t;return n===e});t&&n((0,ed.CU)({...t,id:e,completed:!t.completed}))},[o]),v=(0,s.useCallback)((e,t)=>{t&&n((0,ed.rk)({text:t,completed:e}))},[]),f=(0,s.useCallback)(e=>{let{key:t}=e;"Enter"===t&&(v(d,c),i(""))},[c,d]),k=(0,s.useCallback)(()=>{_(!d)},[d]),g=(0,s.useCallback)(e=>{n((0,ed.Xd)({id:e}))},[]),j=(0,s.useCallback)(()=>{n((0,ed.Po)())},[]),b=(0,s.useCallback)(()=>{let e=o.map(e=>({...e,completed:!0}));n((0,ed.Lw)(e))},[]),I=(0,s.useMemo)(()=>{switch(u){case a.ACTIVE:return o.filter(e=>{let{completed:t}=e;return!t});case a.COMPLETED:return o.filter(e=>{let{completed:t}=e;return t});default:return o}},[o,u]),N=(e,t,n)=>{let o=Array.from(e),[a]=o.splice(t,1);return o.splice(n,0,a),o},L=(0,s.useCallback)((e,t)=>{let a=o.indexOf(I[e]),l=o.indexOf(I[t]),s=N(o,a,l);n((0,ed.Lw)(s))},[o]),E=e=>{switch(e){case a.ACTIVE:m.push({query:{tab:a[a.ACTIVE].toLowerCase()}},void 0,{shallow:!0});return;case a.COMPLETED:m.push({query:{tab:a[a.COMPLETED].toLowerCase()}},void 0,{shallow:!0});return;default:m.push({query:{}},void 0,{shallow:!0});return}};return(0,s.useEffect)(()=>{if(!x){h(a.ALL);return}switch(x){case a[a.ACTIVE].toLowerCase():h(a.ACTIVE);return;case a[a.COMPLETED].toLowerCase():h(a.COMPLETED);return;default:h(a.ALL);return}},[x]),(0,s.useEffect)(()=>{let e=localStorage.getItem("todos");e&&n((0,ed.gO)(JSON.parse(e)))},[]),(0,l.jsxs)(y,{className:eu().todoContainer,...t,children:[(0,l.jsx)(H,{leftSide:(0,l.jsx)(M,{isChecked:d,onClick:k}),value:c,onKeyUp:f,onChange:p}),(0,l.jsx)(ei,{todos:I,onCheck:C,onRemove:g,onClear:j,onCompleted:b,onReorder:L,tabs:["All","Active","Completed"],activeTabIndex:u,onChangeTab:E}),(0,l.jsx)(O,{children:"Drag and drop to reorder list"})]})},em=()=>(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)("main",{children:[(0,l.jsx)(w,{}),(0,l.jsx)(eh,{})]})});var ex=em},4633:function(e){e.exports={button:"style_button__fU377"}},4052:function(e){e.exports={caption:"style_caption__JiMpK"}},8289:function(e){e.exports={light:"style_light__jz5z4",dark:"style_dark__e4Io_",checkBoxButton:"style_checkBoxButton__757u4",checked:"style_checked__Nvj_C"}},8094:function(e){e.exports={light:"style_light__LduWB",dark:"style_dark__0wHT_",container:"style_container__7Y17V"}},3439:function(e){e.exports={light:"style_light__tQ_pg",dark:"style_dark__a27I0",header:"style_header__j38fy",container:"style_container__UocCh"}},2003:function(e){e.exports={light:"style_light__P8iA0",dark:"style_dark__TytgY",input:"style_input__53UMq"}},5627:function(e){e.exports={light:"style_light__WSzNm",dark:"style_dark__TZI4j",logo:"style_logo__ylSsk"}},2613:function(e){e.exports={light:"style_light__8bMsQ",dark:"style_dark__3l375",removeButton:"style_removeButton__ouXOb",removeIcon:"style_removeIcon__JPXmf"}},4790:function(e){e.exports={tabs:"style_tabs__IO6FW",item:"style_item__CVfgk",active:"style_active__xfxpE"}},6531:function(e){e.exports={light:"style_light__Xjpoj",dark:"style_dark__Gdi1g",themeButton:"style_themeButton__qeiCY",themeIcon:"style_themeIcon__G6fwU"}},1661:function(e){e.exports={light:"style_light__vJC_T",dark:"style_dark__e0AIi",todoInput:"style_todoInput___n6_T",leftSide:"style_leftSide__l3_tH",input:"style_input__QqVi1"}},840:function(e){e.exports={light:"style_light__kJDPp",dark:"style_dark__gSZHp",todoItem:"style_todoItem__c00k1",completed:"style_completed__Wlw62",contents:"style_contents__SrRAv"}},7606:function(e){e.exports={todoListContainer:"style_todoListContainer__IWEVo",todoItemContainer:"style_todoItemContainer__ee9Os",footer:"style_footer__6nq3l",activeItemCount:"style_activeItemCount__blhMz",buttonContainer:"style_buttonContainer__v1npk",todoItem:"style_todoItem__PCP88",drag:"style_drag__NN1gW"}},8493:function(e){e.exports={todoTabList:"style_todoTabList__6oFeb"}},6955:function(e){e.exports={todoContainer:"style_todoContainer__df4qE"}}},function(e){e.O(0,[834,774,888,179],function(){return e(e.s=1565)}),_N_E=e.O()}]);